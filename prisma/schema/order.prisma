model Order {
  id            String      @id @default(cuid())
  orderNumber   String      @unique
  customerId    String
  providerId    String
  status        OrderStatus @default(PENDING)
  totalAmount   Decimal     @db.Decimal(10, 2)
  deliveryAddress String
  deliveryPhone   String
  specialInstructions String? @db.Text
  estimatedDeliveryTime DateTime?
  actualDeliveryTime    DateTime?
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt

  customer User           @relation(fields: [customerId], references: [id])
  provider ProviderProfile @relation(fields: [providerId], references: [id])
  items    OrderItem[]

  @@map("orders")
}

model OrderItem {
  id       String @id @default(cuid())
  orderId  String
  mealId   String
  quantity Int
  price    Decimal @db.Decimal(10, 2)

  order Order @relation(fields: [orderId], references: [id], onDelete: Cascade)
  meal  Meal  @relation(fields: [mealId], references: [id], onDelete: Cascade)

  @@map("order_items")
}
